# 1.交易策略原理

可转债与其对应的正股在日内会有收益率的偏离效应，根据收益率偏离程度可构造策略的交易信号，在回测中定义diff为可转债收益率与正股收益率之差。当diff高于正向开仓阈值时，做空可转债，同时做多股票。diff低于反向开仓阈值时，做多可转债，做空股票。

## 1.1 diff计算方法

$diff = \frac{bond\ close{^{min}_t}}{bond\ close{^{day}_{-1}}}-\frac{stock\ close{^{min}_t}}{stock\ close{^{day}_{-1}}}$

## 1.2 diff取值不同时对仓位的操作

**正向仓位**
* short bond long stock

**反向仓位**
* long bond short stock

以$open\ threshold = 0.01$，$close\ threshold = 0.001$为例

$diff \in [0.01,\infty)$
* 此时若无仓位，正向开仓
* 此时若有正向仓位，继续持有
* 此时若有负向仓位，先平仓再正向开仓

$diff \in (0.001,0.01)$
* 此时若无仓位，继续保持空仓
* 此时若正向仓位，继续持有
* 此时若有负向仓位，平仓

$diff \in [-0.001,0.001]$
* 此时若无仓位，继续保持空仓
* 此时若有正向仓位，平仓
* 此时若有负向仓位，平仓

$diff \in (-0.01,-0.001)$
* 此时若无仓位，继续保持空仓
* 此时若有正向仓位，平仓
* 此时若有负向仓位，继续持有

$diff \in (-\infty,-0.01]$
* 此时若无仓位，反向开仓；
* 此时若有正向仓位，先平仓再反向开仓
* 此时若有反向仓位，继续持有



# 2.数据描述

回测中包含了4组股债对，回测区间自2021-12-13至2022-06-28

## 2.1 bond-stock pair ['128081.SZ','002203.SZ']
整个回测期间 convert price = 9.69

## 2.2 bond-stock pair ['123046.SZ','300587.SZ']
2021-12-13至2022-03-23 convert price = 6.73
2022-03-24至2022-06-28 convert price = 6.74

## 2.3 bond-stock pair ['110061.SH','600674.SH']
整个回测期间 convert price = 9.2

## 2.4 bond-stock pair ['113642.SH','603185.SH']
2022-04-06至2022-06-02 convert price = 145.66
2022-06-03至2022-06-28 convert price = 102.61



# 3.回测结果
通过单个股债对的回测检验，调试代码无误后，用网格搜索的方式，检验策略信号以及策略表现的稳定性，同时选出最优参数组。

## 3.1 胜率稳定性分析

## 3.2 参数网格搜索结果
对各个股债对进行分组网格搜索，并将结果记录如下
### 3.1.1 ['128081.SZ','002203.SZ']
结果表格应该包括：

### 3.1.2 ['123046.SZ','300587.SZ']

### 3.1.3 ['110061.SH','600674.SH']

### 3.1.4 ['113642.SH','603185.SH']

## 3.3 最优参数

## 3.4 最优参数下的绩效指标

* 胜率（win rate）
* 每笔回报率(return per round)
* 交易来回数(rounds)

## 3.5 其他统计分析结果（每日收盘时diff所落的区间）

# 4.策略改进方向

使用真实交易数据，回测模拟更接近实际交易的环境